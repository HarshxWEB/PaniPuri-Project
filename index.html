<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Pani Puri Project: PRO Dashboard</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #27ae60;
            --danger: #e74c3c;
            --light: #ecf0f1;
        }
        body { font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; background-color: #f4f7f6; color: #333; margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        
        h1 { color: var(--primary); text-align: center; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #7f8c8d; margin-bottom: 30px; }
        
        /* Grid Layout */
        .dashboard-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
        @media (max-width: 768px) { .dashboard-grid { grid-template-columns: 1fr; } }

        /* Sections */
        .section-title { font-size: 1.1em; font-weight: bold; color: var(--primary); border-bottom: 2px solid var(--light); padding-bottom: 10px; margin-bottom: 15px; margin-top: 0; }
        .card { background: #fff; padding: 0; }
        
        /* Inputs */
        .input-group { margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }
        .input-group label { font-size: 0.9em; color: #555; }
        .input-group input { width: 80px; padding: 5px; border: 1px solid #ddd; border-radius: 4px; text-align: right; font-weight: bold; }
        input[type="range"] { width: 100%; margin-top: 10px; }
        
        /* Sliders */
        .slider-container { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #e1e4e8; }
        .slider-val { font-size: 1.5em; font-weight: bold; color: var(--accent); float: right; }

        /* Results */
        .results-box { background: var(--primary); color: white; padding: 20px; border-radius: 10px; margin-top: 20px; }
        .big-metric { text-align: center; margin-bottom: 15px; }
        .big-metric span { display: block; font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px; }
        .big-metric strong { font-size: 3em; line-height: 1; }
        
        .sub-metrics { display: flex; justify-content: space-between; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 15px; }
        .sm-item { text-align: center; flex: 1; }
        .sm-item span { display: block; font-size: 0.75em; opacity: 0.8; }
        .sm-item strong { display: block; font-size: 1.2em; margin-top: 5px; }

        /* Table */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 0.9em; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #eee; }
        th { color: #7f8c8d; font-weight: normal; }
        .total-row td { font-weight: bold; font-size: 1.1em; border-top: 2px solid #333; }
        .money { text-align: right; }
        .negative { color: var(--danger); }
        .positive { color: var(--accent); }

        /* Progress Bar */
        .bar-container { height: 10px; background: #eee; border-radius: 5px; overflow: hidden; margin-top: 5px; }
        .bar-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.3s; }
        .bar-fill.danger { background: var(--danger); }
    </style>
</head>
<body>

<div class="container">
    <h1>ü•î The Pani Puri Project: PRO</h1>
    <p class="subtitle">Jayanagar Premium Setup ‚Ä¢ Financial Model</p>

    <div class="dashboard-grid">
        
        <div class="card">
            <div class="section-title">üéõÔ∏è Revenue Drivers</div>
            
            <div class="slider-container">
                <label>Selling Price / Plate</label>
                <span id="priceVal" class="slider-val">‚Çπ60</span>
                <input type="range" id="price" min="30" max="100" value="60" oninput="calculate()">
            </div>

            <div class="slider-container">
                <label>Avg. Plates Sold / Day</label>
                <span id="platesVal" class="slider-val">120</span>
                <input type="range" id="plates" min="20" max="300" value="120" oninput="calculate()">
            </div>
            
            <div class="section-title" style="margin-top: 30px;">‚öôÔ∏è Monthly Fixed Costs</div>
            <div class="input-group">
                <label>Rent / Municipal Fees</label>
                <input type="number" id="rent" value="5000" oninput="calculate()">
            </div>
            <div class="input-group">
                <label>Staff Salary</label>
                <input type="number" id="salary" value="20000" oninput="calculate()">
            </div>
            <div class="input-group">
                <label>Transport (Auto/Fuel)</label>
                <input type="number" id="transport" value="6000" oninput="calculate()">
            </div>
            <div class="input-group">
                <label>Utilities & Misc</label>
                <input type="number" id="utils" value="3000" oninput="calculate()">
            </div>

            <div class="section-title" style="margin-top: 20px;">ü•ó Cost per Plate (COGS)</div>
            <div class="input-group">
                <label>Puri (6 pcs)</label>
                <input type="number" id="costPuri" value="6.0" step="0.5" oninput="calculate()">
            </div>
            <div class="input-group">
                <label>Masala & Pani (Bisleri)</label>
                <input type="number" id="costMasala" value="4.5" step="0.5" oninput="calculate()">
            </div>
            <div class="input-group">
                <label>Disposables (Plate/Napkin)</label>
                <input type="number" id="costPack" value="4.0" step="0.5" oninput="calculate()">
            </div>
            <div class="input-group">
                <label>Hygiene/Wastage Buffer</label>
                <input type="number" id="costBuffer" value="2.0" step="0.5" oninput="calculate()">
            </div>
        </div>

        <div class="card">
            <div class="results-box" id="resultCard">
                <div class="big-metric">
                    <span>Estimated Net Monthly Profit</span>
                    <strong id="netProfit">‚Çπ0</strong>
                </div>
                <div class="sub-metrics">
                    <div class="sm-item">
                        <span>Monthly Revenue</span>
                        <strong id="revenueDisplay">‚Çπ0</strong>
                    </div>
                    <div class="sm-item">
                        <span>Margin %</span>
                        <strong id="marginDisplay">0%</strong>
                    </div>
                </div>
            </div>

            <div style="margin-top: 20px;">
                <label style="font-size: 0.8em; color: #777;">Profit vs Costs</label>
                <div class="bar-container">
                    <div id="profitBar" class="bar-fill" style="width: 50%;"></div>
                </div>
            </div>

            <div class="section-title" style="margin-top: 30px;">üìã Monthly P&L Statement</div>
            <table>
                <tr>
                    <td><strong>Total Sales Revenue</strong></td>
                    <td class="money" id="tblRevenue">‚Çπ0</td>
                </tr>
                <tr>
                    <td>(-) Cost of Goods (Ingredients)</td>
                    <td class="money" style="color: #e74c3c;" id="tblCOGS">‚Çπ0</td>
                </tr>
                <tr style="background: #f8f9fa;">
                    <td><strong>= Gross Profit</strong></td>
                    <td class="money" id="tblGross">‚Çπ0</td>
                </tr>
                <tr>
                    <td>(-) Fixed Expenses (Rent/Salary)</td>
                    <td class="money" style="color: #e74c3c;" id="tblFixed">‚Çπ0</td>
                </tr>
                <tr class="total-row">
                    <td>NET PROFIT</td>
                    <td class="money" id="tblNet">‚Çπ0</td>
                </tr>
            </table>

            <div style="background: #e8f6f3; padding: 15px; border-radius: 8px; margin-top: 20px; border: 1px solid #d4efdf;">
                <div class="section-title" style="border:none; margin:0; color: #27ae60;">üöÄ ROI Tracker</div>
                <p style="margin: 5px 0 0 0; font-size: 0.9em;">
                    Setup Cost: <strong>‚Çπ17,700</strong><br>
                    Time to recover investment: <strong id="roiDays">0 days</strong>
                </p>
            </div>
            
            <p style="text-align: center; font-size: 0.8em; color: #999; margin-top: 20px;">
                *Based on 30 operational days/month.
            </p>

        </div>
    </div>
</div>

<script>
    const setupCost = 17700;
    const daysOperational = 30;

    function calculate() {
        // --- 1. GET INPUTS ---
        let price = parseFloat(document.getElementById('price').value);
        let plates = parseFloat(document.getElementById('plates').value);
        
        // Fixed Costs
        let rent = parseFloat(document.getElementById('rent').value) || 0;
        let salary = parseFloat(document.getElementById('salary').value) || 0;
        let transport = parseFloat(document.getElementById('transport').value) || 0;
        let utils = parseFloat(document.getElementById('utils').value) || 0;
        let totalFixed = rent + salary + transport + utils;

        // Variable Costs (COGS)
        let cPuri = parseFloat(document.getElementById('costPuri').value) || 0;
        let cMasala = parseFloat(document.getElementById('costMasala').value) || 0;
        let cPack = parseFloat(document.getElementById('costPack').value) || 0;
        let cBuffer = parseFloat(document.getElementById('costBuffer').value) || 0;
        let cogsPerPlate = cPuri + cMasala + cPack + cBuffer;

        // --- 2. CALCULATIONS ---
        let monthlyRevenue = price * plates * daysOperational;
        let monthlyCOGS = cogsPerPlate * plates * daysOperational;
        let grossProfit = monthlyRevenue - monthlyCOGS;
        let netProfit = grossProfit - totalFixed;
        
        // Percentages
        let marginPercent = (monthlyRevenue > 0) ? (netProfit / monthlyRevenue) * 100 : 0;
        let profitRatio = (monthlyRevenue > 0) ? (netProfit / monthlyRevenue) * 100 : 0;
        
        // ROI (Days to recover setup cost)
        let dailyProfit = netProfit / 30;
        let roiDays = (dailyProfit > 0) ? Math.ceil(setupCost / dailyProfit) : "Never";

        // --- 3. UPDATE UI ---
        
        // Update Slider Labels
        document.getElementById('priceVal').innerText = "‚Çπ" + price;
        document.getElementById('platesVal').innerText = plates;

        // Big Metrics
        document.getElementById('netProfit').innerText = formatMoney(netProfit);
        document.getElementById('revenueDisplay').innerText = formatMoney(monthlyRevenue);
        document.getElementById('marginDisplay').innerText = marginPercent.toFixed(1) + "%";

        // Table
        document.getElementById('tblRevenue').innerText = formatMoney(monthlyRevenue);
        document.getElementById('tblCOGS').innerText = "-" + formatMoney(monthlyCOGS);
        document.getElementById('tblGross').innerText = formatMoney(grossProfit);
        document.getElementById('tblFixed').innerText = "-" + formatMoney(totalFixed);
        
        let netCell = document.getElementById('tblNet');
        netCell.innerText = formatMoney(netProfit);
        
        // Styling for Profit/Loss
        let card = document.getElementById('resultCard');
        let bar = document.getElementById('profitBar');
        
        if (netProfit >= 0) {
            netCell.classList.remove('negative');
            netCell.classList.add('positive');
            card.style.backgroundColor = "#27ae60"; // Green
            bar.style.backgroundColor = "#27ae60";
            bar.style.width = Math.max(0, profitRatio) + "%";
            document.getElementById('roiDays').innerText = roiDays + " days";
        } else {
            netCell.classList.remove('positive');
            netCell.classList.add('negative');
            card.style.backgroundColor = "#c0392b"; // Red
            bar.style.backgroundColor = "#c0392b";
            bar.style.width = "100%"; // Full bar for alert
            document.getElementById('roiDays').innerText = "Loss Making";
        }
    }

    function formatMoney(amount) {
        return "‚Çπ" + amount.toLocaleString('en-IN', {maximumFractionDigits: 0});
    }

    // Initialize
    calculate();
</script>

</body>
</html>
